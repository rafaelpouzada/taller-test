{"ast":null,"code":"\"use strict\";\n\nimport _slicedToArray from \"@babel/runtime-corejs2/helpers/esm/slicedToArray\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime-corejs2/helpers/esm/objectWithoutProperties\";\nvar _jsxFileName = \"/drupal/app/next/pages/index.js\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport App from 'grommet/components/App';\nimport Box from 'grommet/components/Box';\nimport Image from 'grommet/components/Image';\nimport Headline from 'grommet/components/Headline';\nimport ChatIcon from 'grommet/components/icons/base/Chat';\nimport Form from 'grommet/components/Form';\nimport Heading from 'grommet/components/Heading';\nimport Button from 'grommet/components/Button';\nimport Footer from 'grommet/components/Footer';\nimport FormField from 'grommet/components/FormField';\nimport bootstrap from \"../src/lib/bootstrap\";\nimport SigninContainer, { labels } from \"../src/modules/auth/containers/SigninContainer\";\nimport TextInput from \"../src/modules/form/components/TextInput\";\nimport CheckBox from \"../src/modules/form/components/CheckBox\";\nvar StyledImage = styled(Image).withConfig({\n  displayName: \"pages__StyledImage\",\n  componentId: \"sc-1qg7482-0\"\n})([\"width:auto;margin-bottom:2rem;\"]);\n\nvar SignInPage = function SignInPage() {\n  return __jsx(App, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }, __jsx(Box, {\n    full: \"vertical\",\n    justify: \"center\",\n    align: \"center\",\n    pad: {\n      vertical: 'large'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }, __jsx(StyledImage, {\n    src: \"/static/logo.png\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }), __jsx(Headline, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, \"Welcome to the \", __jsx(\"b\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, \"TallerChat\"), \" \", __jsx(ChatIcon, {\n    size: \"large\",\n    colorIndex: \"critical\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  })), __jsx(SigninContainer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, function (_ref) {\n    var handleSubmit = _ref.handleSubmit,\n        submitting = _ref.submitting,\n        invalid = _ref.invalid,\n        register = _ref.values.register,\n        form = _objectWithoutProperties(_ref, [\"handleSubmit\", \"submitting\", \"invalid\", \"values\"]);\n\n    return __jsx(Form, {\n      pad: \"medium\",\n      onSubmit: handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    }, __jsx(Heading, {\n      strong: true,\n      tag: \"h2\",\n      align: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }, \"Sign In\"), __jsx(\"fieldset\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, __jsx(FormField, {\n      label: labels.name,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, __jsx(SigninContainer.Username, {\n      autoFocus: true,\n      disabled: submitting,\n      component: TextInput,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    })), register && __jsx(FormField, {\n      label: labels.email,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, __jsx(SigninContainer.Email, {\n      disabled: submitting,\n      component: TextInput,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    })), __jsx(FormField, {\n      label: labels.password,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, __jsx(SigninContainer.Password, {\n      disabled: submitting,\n      component: TextInput,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    })), register && __jsx(FormField, {\n      label: labels.passwordConfirm,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, __jsx(SigninContainer.PasswordConfirm, {\n      disabled: submitting,\n      component: TextInput,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }))), __jsx(Box, {\n      margin: {\n        bottom: 'medium'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, __jsx(SigninContainer.Register, {\n      label: \"I'm new here\",\n      disabled: submitting,\n      component: CheckBox,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    })), __jsx(Errors, _extends({}, form, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    })), __jsx(Footer, {\n      size: \"small\",\n      direction: \"column\",\n      align: \"center\",\n      pad: {\n        between: 'medium'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, __jsx(Button, {\n      fill: true,\n      primary: true,\n      type: \"submit\",\n      label: register ? submitting ? 'Registering...' : 'Register' : submitting ? 'Logging...' : 'Log In',\n      disabled: invalid || submitting,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    })));\n  })));\n};\n\nvar ErrorBox = styled(Box).withConfig({\n  displayName: \"pages__ErrorBox\",\n  componentId: \"sc-1qg7482-1\"\n})([\"ul{margin:0 0 0 1.5rem;}\"]);\n/**\n * Component to show form errors.\n */\n\nvar Errors = function Errors(_ref2) {\n  var errors = _ref2.errors,\n      submitErrors = _ref2.submitErrors,\n      touched = _ref2.touched;\n\n  var errorMessages = _Object$keys(errors).filter(function (field) {\n    return touched[field];\n  }).map(function (field) {\n    return [labels[field], errors[field]];\n  });\n\n  return __jsx(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }, submitErrors && __jsx(ErrorBox, {\n    colorIndex: \"critical\",\n    pad: \"small\",\n    margin: {\n      vertical: 'small'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }, submitErrors), !!errorMessages.length && __jsx(ErrorBox, {\n    colorIndex: \"critical\",\n    pad: \"small\",\n    margin: {\n      vertical: 'small'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  }, __jsx(\"ul\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123\n    },\n    __self: this\n  }, errorMessages.map(function (_ref3) {\n    var _ref4 = _slicedToArray(_ref3, 2),\n        label = _ref4[0],\n        error = _ref4[1];\n\n    return __jsx(\"li\", {\n      key: label,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, label, \": \", __jsx(\"i\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, error));\n  }))));\n};\n\nErrors.propTypes = {\n  errors: PropTypes.object,\n  submitErrors: PropTypes.string,\n  touched: PropTypes.object\n};\nexport default bootstrap(SignInPage);","map":{"version":3,"sources":["/drupal/app/next/pages/index.js"],"names":["React","PropTypes","styled","App","Box","Image","Headline","ChatIcon","Form","Heading","Button","Footer","FormField","bootstrap","SigninContainer","labels","TextInput","CheckBox","StyledImage","SignInPage","vertical","handleSubmit","submitting","invalid","register","values","form","name","email","password","passwordConfirm","bottom","between","ErrorBox","Errors","errors","submitErrors","touched","errorMessages","filter","field","map","length","label","error","propTypes","object","string"],"mappings":"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","sourcesContent":["import React from 'react'\nimport PropTypes from 'prop-types'\nimport styled from 'styled-components'\n\nimport App from 'grommet/components/App'\nimport Box from 'grommet/components/Box'\nimport Image from 'grommet/components/Image'\nimport Headline from 'grommet/components/Headline'\nimport ChatIcon from 'grommet/components/icons/base/Chat'\n\nimport Form from 'grommet/components/Form'\nimport Heading from 'grommet/components/Heading'\nimport Button from 'grommet/components/Button'\nimport Footer from 'grommet/components/Footer'\nimport FormField from 'grommet/components/FormField'\n\nimport bootstrap from 'app/lib/bootstrap'\nimport SigninContainer, { labels } from 'app/modules/auth/containers/SigninContainer'\n\nimport TextInput from 'app/modules/form/components/TextInput'\nimport CheckBox from 'app/modules/form/components/CheckBox'\n\nconst StyledImage = styled(Image)`\n  width: auto;\n  margin-bottom: 2rem;\n`\n\nconst SignInPage = () => (\n  <App>\n    <Box full='vertical' justify='center' align='center' pad={ { vertical: 'large' } }>\n      <StyledImage src='/static/logo.png' />\n\n      <Headline>Welcome to the <b>TallerChat</b> <ChatIcon size='large' colorIndex='critical' /></Headline>\n\n      <SigninContainer>\n        { ({ handleSubmit, submitting, invalid, values: { register }, ...form }) => (\n          <Form pad='medium' onSubmit={ handleSubmit }>\n            <Heading strong tag='h2' align='center'>Sign In</Heading>\n\n            <fieldset>\n              <FormField label={ labels.name }>\n                <SigninContainer.Username\n                  autoFocus\n                  disabled={ submitting }\n                  component={ TextInput }\n                />\n              </FormField>\n\n              { register && (\n                <FormField label={ labels.email }>\n                  <SigninContainer.Email\n                    disabled={ submitting }\n                    component={ TextInput }\n                  />\n                </FormField>\n              ) }\n\n              <FormField label={ labels.password }>\n                <SigninContainer.Password\n                  disabled={ submitting }\n                  component={ TextInput }\n                />\n              </FormField>\n\n              { register && (\n                <FormField label={ labels.passwordConfirm }>\n                  <SigninContainer.PasswordConfirm\n                    disabled={ submitting }\n                    component={ TextInput }\n                  />\n                </FormField>\n              ) }\n            </fieldset>\n\n            <Box margin={ { bottom: 'medium' } }>\n              <SigninContainer.Register\n                label=\"I'm new here\"\n                disabled={ submitting }\n                component={ CheckBox }\n              />\n            </Box>\n\n            <Errors { ...form } />\n\n            <Footer size='small' direction='column' align='center' pad={ { between: 'medium' } }>\n              <Button fill primary\n                type='submit'\n                label={ register ? (submitting ? 'Registering...' : 'Register') : (submitting ? 'Logging...' : 'Log In') }\n                disabled={ invalid || submitting }\n              />\n            </Footer>\n          </Form>\n        ) }\n      </SigninContainer>\n    </Box>\n  </App>\n)\n\nconst ErrorBox = styled(Box)`\n  ul {\n    margin: 0 0 0 1.5rem;\n  }\n`\n\n/**\n * Component to show form errors.\n */\nconst Errors = ({ errors, submitErrors, touched }) => {\n  const errorMessages = Object.keys(errors)\n    .filter(field => touched[field])\n    .map(field => [labels[field], errors[field]])\n\n  return (\n    <React.Fragment>\n      { submitErrors && (\n        <ErrorBox colorIndex='critical' pad='small' margin={ { vertical: 'small' } }>\n          { submitErrors }\n        </ErrorBox>\n      ) }\n\n      { !!errorMessages.length && (\n        <ErrorBox colorIndex='critical' pad='small' margin={ { vertical: 'small' } }>\n          <ul>\n            { errorMessages.map(([label, error]) => (\n              <li key={ label }>{ label }: <i>{ error }</i></li>\n            )) }\n          </ul>\n        </ErrorBox>\n      ) }\n    </React.Fragment>\n  )\n}\n\nErrors.propTypes = {\n  errors: PropTypes.object,\n  submitErrors: PropTypes.string,\n  touched: PropTypes.object,\n}\n\nexport default bootstrap(SignInPage)\n"]},"metadata":{},"sourceType":"module"}