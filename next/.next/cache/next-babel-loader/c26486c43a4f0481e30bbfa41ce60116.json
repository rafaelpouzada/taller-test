{"ast":null,"code":"\"use strict\";\n\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime-corejs2/helpers/esm/objectWithoutProperties\";\nvar _jsxFileName = \"/drupal/app/next/pages/index.js\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport App from 'grommet/components/App';\nimport Box from 'grommet/components/Box';\nimport Image from 'grommet/components/Image';\nimport Headline from 'grommet/components/Headline';\nimport ChatIcon from 'grommet/components/icons/base/Chat';\nimport Form from 'grommet/components/Form';\nimport Heading from 'grommet/components/Heading';\nimport Button from 'grommet/components/Button';\nimport Footer from 'grommet/components/Footer';\nimport FormField from 'grommet/components/FormField';\nimport bootstrap from \"../src/lib/bootstrap\";\nimport SigninContainer, { labels } from \"../src/modules/auth/containers/SigninContainer\";\nimport TextInput from \"../src/modules/form/components/TextInput\";\nimport CheckBox from \"../src/modules/form/components/CheckBox\";\nconst StyledImage = styled(Image).withConfig({\n  displayName: \"pages__StyledImage\",\n  componentId: \"sc-1qg7482-0\"\n})([\"width:auto;margin-bottom:2rem;\"]);\n\nconst SignInPage = () => __jsx(App, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 29\n  },\n  __self: this\n}, __jsx(Box, {\n  full: \"vertical\",\n  justify: \"center\",\n  align: \"center\",\n  pad: {\n    vertical: 'large'\n  },\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 30\n  },\n  __self: this\n}, __jsx(StyledImage, {\n  src: \"/static/logo.png\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 31\n  },\n  __self: this\n}), __jsx(Headline, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 33\n  },\n  __self: this\n}, \"Welcome to the \", __jsx(\"b\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 33\n  },\n  __self: this\n}, \"TallerChat\"), \" \", __jsx(ChatIcon, {\n  size: \"large\",\n  colorIndex: \"critical\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 33\n  },\n  __self: this\n})), __jsx(SigninContainer, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 35\n  },\n  __self: this\n}, (_ref) => {\n  let {\n    handleSubmit,\n    submitting,\n    invalid,\n    values: {\n      register\n    }\n  } = _ref,\n      form = _objectWithoutProperties(_ref, [\"handleSubmit\", \"submitting\", \"invalid\", \"values\"]);\n\n  return __jsx(Form, {\n    pad: \"medium\",\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, __jsx(Heading, {\n    strong: true,\n    tag: \"h2\",\n    align: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, \"Sign In\"), __jsx(\"fieldset\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, __jsx(FormField, {\n    label: labels.name,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, __jsx(SigninContainer.Username, {\n    autoFocus: true,\n    disabled: submitting,\n    component: TextInput,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  })), register && __jsx(FormField, {\n    label: labels.email,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, __jsx(SigninContainer.Email, {\n    disabled: submitting,\n    component: TextInput,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  })), __jsx(FormField, {\n    label: labels.password,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, __jsx(SigninContainer.Password, {\n    disabled: submitting,\n    component: TextInput,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  })), register && __jsx(FormField, {\n    label: labels.passwordConfirm,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, __jsx(SigninContainer.PasswordConfirm, {\n    disabled: submitting,\n    component: TextInput,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }))), __jsx(Box, {\n    margin: {\n      bottom: 'medium'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, __jsx(SigninContainer.Register, {\n    label: \"I'm new here\",\n    disabled: submitting,\n    component: CheckBox,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  })), __jsx(Errors, _extends({}, form, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  })), __jsx(Footer, {\n    size: \"small\",\n    direction: \"column\",\n    align: \"center\",\n    pad: {\n      between: 'medium'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, __jsx(Button, {\n    fill: true,\n    primary: true,\n    type: \"submit\",\n    label: register ? submitting ? 'Registering...' : 'Register' : submitting ? 'Logging...' : 'Log In',\n    disabled: invalid || submitting,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  })));\n})));\n\nconst ErrorBox = styled(Box).withConfig({\n  displayName: \"pages__ErrorBox\",\n  componentId: \"sc-1qg7482-1\"\n})([\"ul{margin:0 0 0 1.5rem;}\"]);\n/**\n * Component to show form errors.\n */\n\nconst Errors = ({\n  errors,\n  submitErrors,\n  touched\n}) => {\n  const errorMessages = _Object$keys(errors).filter(field => touched[field]).map(field => [labels[field], errors[field]]);\n\n  return __jsx(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }, submitErrors && __jsx(ErrorBox, {\n    colorIndex: \"critical\",\n    pad: \"small\",\n    margin: {\n      vertical: 'small'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }, submitErrors), !!errorMessages.length && __jsx(ErrorBox, {\n    colorIndex: \"critical\",\n    pad: \"small\",\n    margin: {\n      vertical: 'small'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  }, __jsx(\"ul\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123\n    },\n    __self: this\n  }, errorMessages.map(([label, error]) => __jsx(\"li\", {\n    key: label,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125\n    },\n    __self: this\n  }, label, \": \", __jsx(\"i\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125\n    },\n    __self: this\n  }, error))))));\n};\n\nErrors.propTypes = {\n  errors: PropTypes.object,\n  submitErrors: PropTypes.string,\n  touched: PropTypes.object\n};\nexport default bootstrap(SignInPage);","map":{"version":3,"sources":["/drupal/app/next/pages/index.js"],"names":["React","PropTypes","styled","App","Box","Image","Headline","ChatIcon","Form","Heading","Button","Footer","FormField","bootstrap","SigninContainer","labels","TextInput","CheckBox","StyledImage","SignInPage","vertical","handleSubmit","submitting","invalid","values","register","form","name","email","password","passwordConfirm","bottom","between","ErrorBox","Errors","errors","submitErrors","touched","errorMessages","filter","field","map","length","label","error","propTypes","object","string"],"mappings":"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","sourcesContent":["import React from 'react'\nimport PropTypes from 'prop-types'\nimport styled from 'styled-components'\n\nimport App from 'grommet/components/App'\nimport Box from 'grommet/components/Box'\nimport Image from 'grommet/components/Image'\nimport Headline from 'grommet/components/Headline'\nimport ChatIcon from 'grommet/components/icons/base/Chat'\n\nimport Form from 'grommet/components/Form'\nimport Heading from 'grommet/components/Heading'\nimport Button from 'grommet/components/Button'\nimport Footer from 'grommet/components/Footer'\nimport FormField from 'grommet/components/FormField'\n\nimport bootstrap from 'app/lib/bootstrap'\nimport SigninContainer, { labels } from 'app/modules/auth/containers/SigninContainer'\n\nimport TextInput from 'app/modules/form/components/TextInput'\nimport CheckBox from 'app/modules/form/components/CheckBox'\n\nconst StyledImage = styled(Image)`\n  width: auto;\n  margin-bottom: 2rem;\n`\n\nconst SignInPage = () => (\n  <App>\n    <Box full='vertical' justify='center' align='center' pad={ { vertical: 'large' } }>\n      <StyledImage src='/static/logo.png' />\n\n      <Headline>Welcome to the <b>TallerChat</b> <ChatIcon size='large' colorIndex='critical' /></Headline>\n\n      <SigninContainer>\n        { ({ handleSubmit, submitting, invalid, values: { register }, ...form }) => (\n          <Form pad='medium' onSubmit={ handleSubmit }>\n            <Heading strong tag='h2' align='center'>Sign In</Heading>\n\n            <fieldset>\n              <FormField label={ labels.name }>\n                <SigninContainer.Username\n                  autoFocus\n                  disabled={ submitting }\n                  component={ TextInput }\n                />\n              </FormField>\n\n              { register && (\n                <FormField label={ labels.email }>\n                  <SigninContainer.Email\n                    disabled={ submitting }\n                    component={ TextInput }\n                  />\n                </FormField>\n              ) }\n\n              <FormField label={ labels.password }>\n                <SigninContainer.Password\n                  disabled={ submitting }\n                  component={ TextInput }\n                />\n              </FormField>\n\n              { register && (\n                <FormField label={ labels.passwordConfirm }>\n                  <SigninContainer.PasswordConfirm\n                    disabled={ submitting }\n                    component={ TextInput }\n                  />\n                </FormField>\n              ) }\n            </fieldset>\n\n            <Box margin={ { bottom: 'medium' } }>\n              <SigninContainer.Register\n                label=\"I'm new here\"\n                disabled={ submitting }\n                component={ CheckBox }\n              />\n            </Box>\n\n            <Errors { ...form } />\n\n            <Footer size='small' direction='column' align='center' pad={ { between: 'medium' } }>\n              <Button fill primary\n                type='submit'\n                label={ register ? (submitting ? 'Registering...' : 'Register') : (submitting ? 'Logging...' : 'Log In') }\n                disabled={ invalid || submitting }\n              />\n            </Footer>\n          </Form>\n        ) }\n      </SigninContainer>\n    </Box>\n  </App>\n)\n\nconst ErrorBox = styled(Box)`\n  ul {\n    margin: 0 0 0 1.5rem;\n  }\n`\n\n/**\n * Component to show form errors.\n */\nconst Errors = ({ errors, submitErrors, touched }) => {\n  const errorMessages = Object.keys(errors)\n    .filter(field => touched[field])\n    .map(field => [labels[field], errors[field]])\n\n  return (\n    <React.Fragment>\n      { submitErrors && (\n        <ErrorBox colorIndex='critical' pad='small' margin={ { vertical: 'small' } }>\n          { submitErrors }\n        </ErrorBox>\n      ) }\n\n      { !!errorMessages.length && (\n        <ErrorBox colorIndex='critical' pad='small' margin={ { vertical: 'small' } }>\n          <ul>\n            { errorMessages.map(([label, error]) => (\n              <li key={ label }>{ label }: <i>{ error }</i></li>\n            )) }\n          </ul>\n        </ErrorBox>\n      ) }\n    </React.Fragment>\n  )\n}\n\nErrors.propTypes = {\n  errors: PropTypes.object,\n  submitErrors: PropTypes.string,\n  touched: PropTypes.object,\n}\n\nexport default bootstrap(SignInPage)\n"]},"metadata":{},"sourceType":"module"}